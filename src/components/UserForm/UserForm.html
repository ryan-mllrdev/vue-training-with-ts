<form novalidate @submit.prevent="validateUser">
    <md-card class="md-layout-item">
        <md-card-content>
            <div class="md-layout md-gutter">
                <div class="md-layout-item md-small-size-100">
                    <md-field :class="getValidationClass('login')">
                        <label for="login">Username</label>
                        <md-input name="login" id="login" autocomplete="login" v-model="user.login"
                            :disabled="sending" />
                        <span class="md-error" v-if="!$v.user.login.required">The user name is
                            required</span>
                        <span class="md-error" v-else-if="!$v.user.login.minLength">The minimum number of characters
                            should be 5</span>
                        <span class="md-error" v-else-if="!$v.user.login.maxLength">The maximum number of characters
                            should be 20</span>
                    </md-field>
                </div>

                <div class="md-layout-item md-small-size-100">
                    <md-field :class="getValidationClass('avatarUrl')">
                        <label for="avatarUrl">Avatar Url</label>
                        <md-input name="avatarUrl" id="avatarUrl" autocomplete="avatarUrl" v-model="user.avatarUrl"
                            :disabled="sending" />
                    </md-field>
                </div>
            </div>

            <div class="md-layout md-gutter">
                <div class="md-layout-item md-small-size-100">
                    <md-field :class="getValidationClass('reposUrl')">
                        <label for="reposUrl">Repository Url</label>
                        <md-input name="reposUrl" id="reposUrl" autocomplete="reposUrl" v-model="user.reposUrl"
                            :disabled="sending" />
                    </md-field>
                </div>
                <div class="md-layout-item md-small-size-100">
                    <md-field :class="getValidationClass('url')">
                        <label for="url">Url</label>
                        <md-input name="url" id="url" autocomplete="url" v-model="user.url" :disabled="sending" />
                    </md-field>
                </div>
                <div v-if="edit" class="md-layout-item md-small-size-100">
                    <div>
                        <md-field>
                            <md-input v-model="file" type="file" @change="onSelectFile($event)" />
                            <md-button class="md-accent" @click="onUploadFile()">Upload File</md-button>
                        </md-field>
                    </div>
                </div>
            </div>
        </md-card-content>

        <md-progress-bar md-mode="indeterminate" v-if="sending" />

        <md-card-actions>
            <md-button v-if="!edit" class="md-primary" @click="closeUserForm()">Cancel</md-button>
            <md-button type="submit" class="md-primary" :disabled="sending">{{ edit ? 'Save Changes' : 'Create user' }}
            </md-button>
        </md-card-actions>
    </md-card>
    <!-- <md-snackbar :md-active.sync="userSaved">The user {{ lastUser }} was saved with success!</md-snackbar> -->
</form>